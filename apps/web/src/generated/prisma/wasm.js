
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('./runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.19.2
 * Query Engine version: c2990dca591cba766e3b7ef5d9e8a84796e47ab7
 */
Prisma.prismaVersion = {
  client: "6.19.2",
  engine: "c2990dca591cba766e3b7ef5d9e8a84796e47ab7"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  name: 'name',
  email: 'email',
  emailVerified: 'emailVerified',
  image: 'image',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SessionScalarFieldEnum = {
  id: 'id',
  expiresAt: 'expiresAt',
  token: 'token',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  ipAddress: 'ipAddress',
  userAgent: 'userAgent',
  userId: 'userId'
};

exports.Prisma.AccountScalarFieldEnum = {
  id: 'id',
  accountId: 'accountId',
  providerId: 'providerId',
  userId: 'userId',
  accessToken: 'accessToken',
  refreshToken: 'refreshToken',
  idToken: 'idToken',
  accessTokenExpiresAt: 'accessTokenExpiresAt',
  refreshTokenExpiresAt: 'refreshTokenExpiresAt',
  scope: 'scope',
  password: 'password',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.VerificationScalarFieldEnum = {
  id: 'id',
  identifier: 'identifier',
  value: 'value',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CredentialScalarFieldEnum = {
  id: 'id',
  name: 'name',
  value: 'value',
  type: 'type',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  userId: 'userId'
};

exports.Prisma.WorkflowScalarFieldEnum = {
  id: 'id',
  name: 'name',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  userId: 'userId'
};

exports.Prisma.NodeScalarFieldEnum = {
  id: 'id',
  workflowId: 'workflowId',
  name: 'name',
  type: 'type',
  position: 'position',
  data: 'data',
  credentialId: 'credentialId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ConnectionScalarFieldEnum = {
  id: 'id',
  workflowId: 'workflowId',
  fromNodeId: 'fromNodeId',
  toNodeId: 'toNodeId',
  fromOutput: 'fromOutput',
  toInput: 'toInput',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ExecutionScalarFieldEnum = {
  id: 'id',
  workflowId: 'workflowId',
  status: 'status',
  error: 'error',
  errorStack: 'errorStack',
  startedAt: 'startedAt',
  completedAt: 'completedAt',
  inngestEventId: 'inngestEventId',
  output: 'output'
};

exports.Prisma.AgentScalarFieldEnum = {
  id: 'id',
  name: 'name',
  description: 'description',
  systemPrompt: 'systemPrompt',
  context: 'context',
  model: 'model',
  temperature: 'temperature',
  safeMode: 'safeMode',
  llmTier: 'llmTier',
  maxStepsPerRun: 'maxStepsPerRun',
  evalRules: 'evalRules',
  workspaceId: 'workspaceId',
  avatar: 'avatar',
  tags: 'tags',
  isFavorite: 'isFavorite',
  isEnabled: 'isEnabled',
  templateId: 'templateId',
  flowData: 'flowData',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  userId: 'userId',
  credentialId: 'credentialId'
};

exports.Prisma.AgentConnectionScalarFieldEnum = {
  id: 'id',
  sourceAgentId: 'sourceAgentId',
  targetAgentId: 'targetAgentId',
  alias: 'alias',
  description: 'description',
  enabled: 'enabled',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentToolScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  workflowId: 'workflowId',
  composioAppKey: 'composioAppKey',
  composioActionName: 'composioActionName',
  composioConfig: 'composioConfig',
  name: 'name',
  description: 'description',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ConversationScalarFieldEnum = {
  id: 'id',
  title: 'title',
  agentId: 'agentId',
  isArchived: 'isArchived',
  isPinned: 'isPinned',
  shareToken: 'shareToken',
  source: 'source',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MessageScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  role: 'role',
  content: 'content',
  toolName: 'toolName',
  toolInput: 'toolInput',
  toolOutput: 'toolOutput',
  createdAt: 'createdAt'
};

exports.Prisma.ConversationActivityScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  type: 'type',
  title: 'title',
  details: 'details',
  requiresConfirmation: 'requiresConfirmation',
  confirmedAt: 'confirmedAt',
  rejectedAt: 'rejectedAt',
  createdAt: 'createdAt'
};

exports.Prisma.AgentMemoryScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  key: 'key',
  value: 'value',
  category: 'category',
  embedding: 'embedding',
  source: 'source',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.KnowledgeDocumentScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  title: 'title',
  content: 'content',
  source: 'source',
  mimeType: 'mimeType',
  fileSize: 'fileSize',
  sourceType: 'sourceType',
  externalId: 'externalId',
  externalUrl: 'externalUrl',
  syncStatus: 'syncStatus',
  lastSyncedAt: 'lastSyncedAt',
  syncError: 'syncError',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.KnowledgeChunkScalarFieldEnum = {
  id: 'id',
  documentId: 'documentId',
  content: 'content',
  embedding: 'embedding',
  position: 'position',
  pageNumber: 'pageNumber',
  heading: 'heading',
  createdAt: 'createdAt'
};

exports.Prisma.KnowledgeSettingsScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  searchFuzziness: 'searchFuzziness',
  maxResults: 'maxResults',
  autoRefresh: 'autoRefresh',
  refreshInterval: 'refreshInterval',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentTriggerScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  name: 'name',
  type: 'type',
  enabled: 'enabled',
  config: 'config',
  cronExpression: 'cronExpression',
  nextRunAt: 'nextRunAt',
  lastRunAt: 'lastRunAt',
  webhookSecret: 'webhookSecret',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentTemplateScalarFieldEnum = {
  id: 'id',
  slug: 'slug',
  name: 'name',
  subtitle: 'subtitle',
  description: 'description',
  category: 'category',
  role: 'role',
  useCase: 'useCase',
  systemPrompt: 'systemPrompt',
  context: 'context',
  model: 'model',
  temperature: 'temperature',
  trigger: 'trigger',
  llmTier: 'llmTier',
  maxStepsPerRun: 'maxStepsPerRun',
  fetchSources: 'fetchSources',
  actions: 'actions',
  evalRules: 'evalRules',
  suggestedTools: 'suggestedTools',
  suggestedTriggers: 'suggestedTriggers',
  suggestedIntegrations: 'suggestedIntegrations',
  flowData: 'flowData',
  defaultTriggers: 'defaultTriggers',
  defaultTools: 'defaultTools',
  icon: 'icon',
  color: 'color',
  coverImage: 'coverImage',
  isPublic: 'isPublic',
  isFeatured: 'isFeatured',
  createdById: 'createdById',
  createdByName: 'createdByName',
  usageCount: 'usageCount',
  rating: 'rating',
  reviewCount: 'reviewCount',
  tags: 'tags',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentEmbedScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  enabled: 'enabled',
  allowedDomains: 'allowedDomains',
  displayName: 'displayName',
  welcomeMessage: 'welcomeMessage',
  logo: 'logo',
  accentColor: 'accentColor',
  backgroundColor: 'backgroundColor',
  textColor: 'textColor',
  userBubbleColor: 'userBubbleColor',
  botBubbleColor: 'botBubbleColor',
  position: 'position',
  buttonSize: 'buttonSize',
  windowWidth: 'windowWidth',
  windowHeight: 'windowHeight',
  autoOpen: 'autoOpen',
  autoOpenDelay: 'autoOpenDelay',
  showBranding: 'showBranding',
  collectEmail: 'collectEmail',
  requireEmail: 'requireEmail',
  conversationStarters: 'conversationStarters',
  customCss: 'customCss',
  totalConversations: 'totalConversations',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentEmailAddressScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  localPart: 'localPart',
  domain: 'domain',
  autoReply: 'autoReply',
  createdAt: 'createdAt'
};

exports.Prisma.IntegrationScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  type: 'type',
  accessToken: 'accessToken',
  refreshToken: 'refreshToken',
  expiresAt: 'expiresAt',
  accountEmail: 'accountEmail',
  accountName: 'accountName',
  scopes: 'scopes',
  teamId: 'teamId',
  teamName: 'teamName',
  botUserId: 'botUserId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentSwarmScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  name: 'name',
  taskTemplate: 'taskTemplate',
  status: 'status',
  totalTasks: 'totalTasks',
  completedTasks: 'completedTasks',
  failedTasks: 'failedTasks',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SwarmTaskScalarFieldEnum = {
  id: 'id',
  swarmId: 'swarmId',
  input: 'input',
  status: 'status',
  output: 'output',
  error: 'error',
  startedAt: 'startedAt',
  completedAt: 'completedAt',
  createdAt: 'createdAt'
};

exports.Prisma.MeetingRecordingScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  title: 'title',
  meetingUrl: 'meetingUrl',
  meetingPlatform: 'meetingPlatform',
  calendarEventId: 'calendarEventId',
  status: 'status',
  recordingUrl: 'recordingUrl',
  transcript: 'transcript',
  summary: 'summary',
  actionItems: 'actionItems',
  participants: 'participants',
  scheduledAt: 'scheduledAt',
  startedAt: 'startedAt',
  endedAt: 'endedAt',
  duration: 'duration',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AgentPhoneNumberScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  phoneNumber: 'phoneNumber',
  twilioSid: 'twilioSid',
  voiceEnabled: 'voiceEnabled',
  voiceGreeting: 'voiceGreeting',
  createdAt: 'createdAt'
};

exports.Prisma.PhoneCallScalarFieldEnum = {
  id: 'id',
  phoneNumberId: 'phoneNumberId',
  direction: 'direction',
  fromNumber: 'fromNumber',
  toNumber: 'toNumber',
  status: 'status',
  twilioCallSid: 'twilioCallSid',
  recordingUrl: 'recordingUrl',
  transcript: 'transcript',
  conversationId: 'conversationId',
  duration: 'duration',
  startedAt: 'startedAt',
  endedAt: 'endedAt'
};

exports.Prisma.AgentMetricScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  date: 'date',
  totalConversations: 'totalConversations',
  totalMessages: 'totalMessages',
  avgMessagesPerConvo: 'avgMessagesPerConvo',
  avgResponseTimeMs: 'avgResponseTimeMs',
  totalTokensUsed: 'totalTokensUsed',
  toolCallsCount: 'toolCallsCount',
  toolSuccessRate: 'toolSuccessRate',
  feedbackPositive: 'feedbackPositive',
  feedbackNegative: 'feedbackNegative',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ScanResultScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  workspaceId: 'workspaceId',
  category: 'category',
  signals: 'signals',
  totalSignals: 'totalSignals',
  criticalCount: 'criticalCount',
  highCount: 'highCount',
  mediumCount: 'mediumCount',
  lowCount: 'lowCount',
  scannedAt: 'scannedAt'
};

exports.Prisma.SignalScalarFieldEnum = {
  id: 'id',
  scanResultId: 'scanResultId',
  type: 'type',
  category: 'category',
  severity: 'severity',
  source: 'source',
  title: 'title',
  description: 'description',
  metadata: 'metadata',
  suggestedTemplateId: 'suggestedTemplateId',
  snoozedUntil: 'snoozedUntil',
  dismissedAt: 'dismissedAt',
  actedOnAt: 'actedOnAt',
  detectedAt: 'detectedAt'
};

exports.Prisma.AgentRunScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  userId: 'userId',
  workspaceId: 'workspaceId',
  triggeredAt: 'triggeredAt',
  triggeredBy: 'triggeredBy',
  dataSources: 'dataSources',
  outputType: 'outputType',
  outputContent: 'outputContent',
  llmModel: 'llmModel',
  llmTokensUsed: 'llmTokensUsed',
  llmCost: 'llmCost',
  l1Assertions: 'l1Assertions',
  l1Passed: 'l1Passed',
  l2Score: 'l2Score',
  l2Breakdown: 'l2Breakdown',
  l3Triggered: 'l3Triggered',
  l3Blocked: 'l3Blocked',
  l3Reason: 'l3Reason',
  userAction: 'userAction',
  draftDiff: 'draftDiff',
  finalAction: 'finalAction',
  finalAt: 'finalAt',
  status: 'status',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AiEventScalarFieldEnum = {
  id: 'id',
  traceId: 'traceId',
  agentId: 'agentId',
  conversationId: 'conversationId',
  userId: 'userId',
  workspaceId: 'workspaceId',
  model: 'model',
  tier: 'tier',
  tokensIn: 'tokensIn',
  tokensOut: 'tokensOut',
  cost: 'cost',
  latencyMs: 'latencyMs',
  stepNumber: 'stepNumber',
  action: 'action',
  toolName: 'toolName',
  toolInput: 'toolInput',
  toolOutput: 'toolOutput',
  stepsUsed: 'stepsUsed',
  evalResult: 'evalResult',
  timestamp: 'timestamp'
};

exports.Prisma.AgentTraceScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  conversationId: 'conversationId',
  userId: 'userId',
  workspaceId: 'workspaceId',
  startedAt: 'startedAt',
  completedAt: 'completedAt',
  status: 'status',
  steps: 'steps',
  totalSteps: 'totalSteps',
  maxSteps: 'maxSteps',
  totalTokensIn: 'totalTokensIn',
  totalTokensOut: 'totalTokensOut',
  totalCost: 'totalCost',
  latencyMs: 'latencyMs',
  toolCalls: 'toolCalls',
  toolSuccesses: 'toolSuccesses',
  toolFailures: 'toolFailures',
  l1Passed: 'l1Passed',
  l1Failures: 'l1Failures',
  l2Score: 'l2Score',
  l2Breakdown: 'l2Breakdown',
  l3Triggered: 'l3Triggered',
  l3Blocked: 'l3Blocked',
  feedbackScore: 'feedbackScore',
  feedbackComment: 'feedbackComment',
  userEdited: 'userEdited',
  editDiff: 'editDiff'
};

exports.Prisma.ConversationEvaluationScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  evaluatedAt: 'evaluatedAt',
  goalCompleted: 'goalCompleted',
  goalCompletionConfidence: 'goalCompletionConfidence',
  userSatisfactionScore: 'userSatisfactionScore',
  categories: 'categories',
  failureModes: 'failureModes',
  improvementSuggestions: 'improvementSuggestions',
  metadata: 'metadata'
};

exports.Prisma.AgentInsightScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  generatedAt: 'generatedAt',
  timeframeStart: 'timeframeStart',
  timeframeEnd: 'timeframeEnd',
  clusters: 'clusters',
  patterns: 'patterns',
  anomalies: 'anomalies',
  opportunities: 'opportunities'
};

exports.Prisma.AgentFeedbackScalarFieldEnum = {
  id: 'id',
  traceId: 'traceId',
  conversationId: 'conversationId',
  userId: 'userId',
  agentId: 'agentId',
  type: 'type',
  timestamp: 'timestamp',
  originalOutput: 'originalOutput',
  userEdit: 'userEdit',
  correctionText: 'correctionText',
  stepNumber: 'stepNumber',
  metadata: 'metadata'
};

exports.Prisma.AgentABTestScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  variantAPrompt: 'variantAPrompt',
  variantBPrompt: 'variantBPrompt',
  trafficSplit: 'trafficSplit',
  status: 'status',
  startedAt: 'startedAt',
  endedAt: 'endedAt',
  variantATraces: 'variantATraces',
  variantBTraces: 'variantBTraces',
  variantAScore: 'variantAScore',
  variantBScore: 'variantBScore',
  winningVariant: 'winningVariant'
};

exports.Prisma.OptimizationRunScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  triggeredAt: 'triggeredAt',
  triggeredBy: 'triggeredBy',
  editPatterns: 'editPatterns',
  promptVariations: 'promptVariations',
  testResults: 'testResults',
  recommendation: 'recommendation',
  abTestId: 'abTestId',
  status: 'status'
};

exports.Prisma.ModificationProposalScalarFieldEnum = {
  id: 'id',
  agentId: 'agentId',
  proposedAt: 'proposedAt',
  type: 'type',
  current: 'current',
  proposed: 'proposed',
  rationale: 'rationale',
  impact: 'impact',
  status: 'status',
  reviewedAt: 'reviewedAt',
  reviewedBy: 'reviewedBy',
  appliedAt: 'appliedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};
exports.CredentialType = exports.$Enums.CredentialType = {
  OPENAI: 'OPENAI',
  ANTHROPIC: 'ANTHROPIC',
  GEMINI: 'GEMINI'
};

exports.NodeType = exports.$Enums.NodeType = {
  INITIAL: 'INITIAL',
  MANUAL_TRIGGER: 'MANUAL_TRIGGER',
  HTTP_REQUEST: 'HTTP_REQUEST',
  GOOGLE_FORM_TRIGGER: 'GOOGLE_FORM_TRIGGER',
  STRIPE_TRIGGER: 'STRIPE_TRIGGER',
  ANTHROPIC: 'ANTHROPIC',
  GEMINI: 'GEMINI',
  OPENAI: 'OPENAI',
  DISCORD: 'DISCORD',
  SLACK: 'SLACK'
};

exports.ExecutionStatus = exports.$Enums.ExecutionStatus = {
  RUNNING: 'RUNNING',
  SUCCESS: 'SUCCESS',
  FAILED: 'FAILED'
};

exports.AgentModel = exports.$Enums.AgentModel = {
  ANTHROPIC: 'ANTHROPIC',
  OPENAI: 'OPENAI',
  GEMINI: 'GEMINI'
};

exports.ConversationSource = exports.$Enums.ConversationSource = {
  CHAT: 'CHAT',
  EMBED: 'EMBED',
  EMAIL: 'EMAIL',
  PHONE: 'PHONE',
  SLACK: 'SLACK',
  WEBHOOK: 'WEBHOOK',
  SCHEDULE: 'SCHEDULE'
};

exports.MessageRole = exports.$Enums.MessageRole = {
  USER: 'USER',
  ASSISTANT: 'ASSISTANT',
  SYSTEM: 'SYSTEM',
  TOOL: 'TOOL'
};

exports.ActivityType = exports.$Enums.ActivityType = {
  MESSAGE_SENT: 'MESSAGE_SENT',
  MESSAGE_RECEIVED: 'MESSAGE_RECEIVED',
  TOOL_CALLED: 'TOOL_CALLED',
  TOOL_COMPLETED: 'TOOL_COMPLETED',
  TOOL_FAILED: 'TOOL_FAILED',
  EMAIL_SENT: 'EMAIL_SENT',
  EMAIL_RECEIVED: 'EMAIL_RECEIVED',
  CALENDAR_EVENT_CREATED: 'CALENDAR_EVENT_CREATED',
  SLACK_MESSAGE_SENT: 'SLACK_MESSAGE_SENT',
  MEMORY_UPDATED: 'MEMORY_UPDATED',
  KNOWLEDGE_SEARCHED: 'KNOWLEDGE_SEARCHED',
  AGENT_DELEGATED: 'AGENT_DELEGATED',
  CONFIRMATION_REQUESTED: 'CONFIRMATION_REQUESTED',
  CONFIRMATION_APPROVED: 'CONFIRMATION_APPROVED',
  CONFIRMATION_REJECTED: 'CONFIRMATION_REJECTED',
  ERROR_OCCURRED: 'ERROR_OCCURRED'
};

exports.MemoryCategory = exports.$Enums.MemoryCategory = {
  GENERAL: 'GENERAL',
  PREFERENCE: 'PREFERENCE',
  CONTEXT: 'CONTEXT',
  HISTORY: 'HISTORY',
  INSTRUCTION: 'INSTRUCTION'
};

exports.KnowledgeSourceType = exports.$Enums.KnowledgeSourceType = {
  TEXT: 'TEXT',
  FILE_UPLOAD: 'FILE_UPLOAD',
  WEBSITE: 'WEBSITE',
  WEBSITE_CRAWL: 'WEBSITE_CRAWL',
  GOOGLE_DRIVE: 'GOOGLE_DRIVE',
  NOTION: 'NOTION',
  DROPBOX: 'DROPBOX',
  ONEDRIVE: 'ONEDRIVE'
};

exports.KnowledgeSyncStatus = exports.$Enums.KnowledgeSyncStatus = {
  PENDING: 'PENDING',
  SYNCING: 'SYNCING',
  SYNCED: 'SYNCED',
  ERROR: 'ERROR'
};

exports.TriggerType = exports.$Enums.TriggerType = {
  SCHEDULE: 'SCHEDULE',
  WEBHOOK: 'WEBHOOK',
  EMAIL: 'EMAIL',
  CHAT: 'CHAT',
  AGENT_MESSAGE: 'AGENT_MESSAGE'
};

exports.TemplateCategory = exports.$Enums.TemplateCategory = {
  PRODUCTIVITY: 'PRODUCTIVITY',
  SALES: 'SALES',
  MARKETING: 'MARKETING',
  SUPPORT: 'SUPPORT',
  RESEARCH: 'RESEARCH',
  CREATIVE: 'CREATIVE',
  OPERATIONS: 'OPERATIONS',
  CUSTOM: 'CUSTOM'
};

exports.TemplateRole = exports.$Enums.TemplateRole = {
  ENGINEERING: 'ENGINEERING',
  HUMAN_RESOURCES: 'HUMAN_RESOURCES',
  MARKETING: 'MARKETING',
  OPERATIONS: 'OPERATIONS',
  PRODUCT: 'PRODUCT',
  SALES: 'SALES',
  SUPPORT: 'SUPPORT'
};

exports.TemplateUseCase = exports.$Enums.TemplateUseCase = {
  AI_ASSISTANT: 'AI_ASSISTANT',
  CHATBOT: 'CHATBOT',
  COACHING: 'COACHING',
  CONTENT_CREATION: 'CONTENT_CREATION',
  DOCUMENT_PROCESSING: 'DOCUMENT_PROCESSING',
  EMAILS: 'EMAILS',
  MEETINGS: 'MEETINGS',
  OUTREACH: 'OUTREACH',
  PHONE: 'PHONE',
  PRODUCTIVITY: 'PRODUCTIVITY',
  RESEARCH: 'RESEARCH',
  TEAMS: 'TEAMS',
  WEB_SCRAPER: 'WEB_SCRAPER'
};

exports.EmbedPosition = exports.$Enums.EmbedPosition = {
  BOTTOM_RIGHT: 'BOTTOM_RIGHT',
  BOTTOM_LEFT: 'BOTTOM_LEFT',
  TOP_RIGHT: 'TOP_RIGHT',
  TOP_LEFT: 'TOP_LEFT'
};

exports.IntegrationType = exports.$Enums.IntegrationType = {
  GMAIL: 'GMAIL',
  GOOGLE_CALENDAR: 'GOOGLE_CALENDAR',
  GOOGLE_SHEETS: 'GOOGLE_SHEETS',
  GOOGLE_DRIVE: 'GOOGLE_DRIVE',
  GOOGLE_DOCS: 'GOOGLE_DOCS',
  OUTLOOK: 'OUTLOOK',
  OUTLOOK_CALENDAR: 'OUTLOOK_CALENDAR',
  MICROSOFT_TEAMS: 'MICROSOFT_TEAMS',
  SLACK: 'SLACK',
  NOTION: 'NOTION'
};

exports.SwarmStatus = exports.$Enums.SwarmStatus = {
  PENDING: 'PENDING',
  RUNNING: 'RUNNING',
  COMPLETED: 'COMPLETED',
  FAILED: 'FAILED',
  CANCELLED: 'CANCELLED'
};

exports.SwarmTaskStatus = exports.$Enums.SwarmTaskStatus = {
  PENDING: 'PENDING',
  RUNNING: 'RUNNING',
  COMPLETED: 'COMPLETED',
  FAILED: 'FAILED'
};

exports.MeetingPlatform = exports.$Enums.MeetingPlatform = {
  ZOOM: 'ZOOM',
  GOOGLE_MEET: 'GOOGLE_MEET',
  MICROSOFT_TEAMS: 'MICROSOFT_TEAMS',
  OTHER: 'OTHER'
};

exports.RecordingStatus = exports.$Enums.RecordingStatus = {
  SCHEDULED: 'SCHEDULED',
  JOINING: 'JOINING',
  RECORDING: 'RECORDING',
  PROCESSING: 'PROCESSING',
  COMPLETED: 'COMPLETED',
  FAILED: 'FAILED'
};

exports.CallDirection = exports.$Enums.CallDirection = {
  INBOUND: 'INBOUND',
  OUTBOUND: 'OUTBOUND'
};

exports.CallStatus = exports.$Enums.CallStatus = {
  INITIATED: 'INITIATED',
  RINGING: 'RINGING',
  IN_PROGRESS: 'IN_PROGRESS',
  COMPLETED: 'COMPLETED',
  FAILED: 'FAILED',
  NO_ANSWER: 'NO_ANSWER'
};

exports.ScanCategory = exports.$Enums.ScanCategory = {
  SALES: 'SALES',
  SUPPORT: 'SUPPORT',
  MARKETING: 'MARKETING',
  HR: 'HR',
  FINANCE: 'FINANCE',
  PROJECTS: 'PROJECTS'
};

exports.SignalSeverity = exports.$Enums.SignalSeverity = {
  LOW: 'LOW',
  MEDIUM: 'MEDIUM',
  HIGH: 'HIGH',
  CRITICAL: 'CRITICAL'
};

exports.TraceStatus = exports.$Enums.TraceStatus = {
  RUNNING: 'RUNNING',
  COMPLETED: 'COMPLETED',
  FAILED: 'FAILED',
  TIMEOUT: 'TIMEOUT',
  CANCELLED: 'CANCELLED'
};

exports.FeedbackType = exports.$Enums.FeedbackType = {
  THUMBS_UP: 'THUMBS_UP',
  THUMBS_DOWN: 'THUMBS_DOWN',
  USER_EDIT: 'USER_EDIT',
  APPROVAL_REJECT: 'APPROVAL_REJECT',
  EXPLICIT_CORRECTION: 'EXPLICIT_CORRECTION',
  RETRY_REQUEST: 'RETRY_REQUEST'
};

exports.ABTestStatus = exports.$Enums.ABTestStatus = {
  RUNNING: 'RUNNING',
  COMPLETED: 'COMPLETED',
  CANCELLED: 'CANCELLED'
};

exports.ModificationType = exports.$Enums.ModificationType = {
  PROMPT_REFINEMENT: 'PROMPT_REFINEMENT',
  MODEL_DOWNGRADE: 'MODEL_DOWNGRADE',
  MODEL_UPGRADE: 'MODEL_UPGRADE',
  ADD_TOOL: 'ADD_TOOL',
  REMOVE_TOOL: 'REMOVE_TOOL',
  ADD_RAG: 'ADD_RAG',
  ADJUST_TEMPERATURE: 'ADJUST_TEMPERATURE',
  ADJUST_MAX_STEPS: 'ADJUST_MAX_STEPS'
};

exports.ProposalStatus = exports.$Enums.ProposalStatus = {
  PENDING: 'PENDING',
  APPROVED: 'APPROVED',
  REJECTED: 'REJECTED',
  APPLIED: 'APPLIED'
};

exports.Prisma.ModelName = {
  User: 'User',
  Session: 'Session',
  Account: 'Account',
  Verification: 'Verification',
  Credential: 'Credential',
  Workflow: 'Workflow',
  Node: 'Node',
  Connection: 'Connection',
  Execution: 'Execution',
  Agent: 'Agent',
  AgentConnection: 'AgentConnection',
  AgentTool: 'AgentTool',
  Conversation: 'Conversation',
  Message: 'Message',
  ConversationActivity: 'ConversationActivity',
  AgentMemory: 'AgentMemory',
  KnowledgeDocument: 'KnowledgeDocument',
  KnowledgeChunk: 'KnowledgeChunk',
  KnowledgeSettings: 'KnowledgeSettings',
  AgentTrigger: 'AgentTrigger',
  AgentTemplate: 'AgentTemplate',
  AgentEmbed: 'AgentEmbed',
  AgentEmailAddress: 'AgentEmailAddress',
  Integration: 'Integration',
  AgentSwarm: 'AgentSwarm',
  SwarmTask: 'SwarmTask',
  MeetingRecording: 'MeetingRecording',
  AgentPhoneNumber: 'AgentPhoneNumber',
  PhoneCall: 'PhoneCall',
  AgentMetric: 'AgentMetric',
  ScanResult: 'ScanResult',
  Signal: 'Signal',
  AgentRun: 'AgentRun',
  AiEvent: 'AiEvent',
  AgentTrace: 'AgentTrace',
  ConversationEvaluation: 'ConversationEvaluation',
  AgentInsight: 'AgentInsight',
  AgentFeedback: 'AgentFeedback',
  AgentABTest: 'AgentABTest',
  OptimizationRun: 'OptimizationRun',
  ModificationProposal: 'ModificationProposal'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "c:\\Users\\marti\\nodebase-1\\apps\\web\\src\\generated\\prisma",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "windows",
        "native": true
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "c:\\Users\\marti\\nodebase-1\\prisma\\schema.prisma",
    "isCustomOutput": true
  },
  "relativeEnvPaths": {
    "rootEnvPath": null,
    "schemaEnvPath": "../../../../../.env"
  },
  "relativePath": "../../../../../prisma",
  "clientVersion": "6.19.2",
  "engineVersion": "c2990dca591cba766e3b7ef5d9e8a84796e47ab7",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "postinstall": false,
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\n\ngenerator client {\n  provider = \"prisma-client-js\"\n  output   = \"../apps/web/src/generated/prisma\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id            String        @id\n  name          String\n  email         String\n  emailVerified Boolean       @default(false)\n  image         String?\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @default(now()) @updatedAt\n  sessions      Session[]\n  accounts      Account[]\n  workflows     Workflow[]\n  credentials   Credential[]\n  agents        Agent[]\n  integrations  Integration[]\n\n  @@unique([email])\n  @@map(\"user\")\n}\n\nmodel Session {\n  id        String   @id\n  expiresAt DateTime\n  token     String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  ipAddress String?\n  userAgent String?\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@map(\"session\")\n}\n\nmodel Account {\n  id                    String    @id\n  accountId             String\n  providerId            String\n  userId                String\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  accessToken           String?\n  refreshToken          String?\n  idToken               String?\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String?\n  password              String?\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n\n  @@map(\"account\")\n}\n\nmodel Verification {\n  id         String   @id\n  identifier String\n  value      String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @default(now()) @updatedAt\n\n  @@map(\"verification\")\n}\n\nmodel Credential {\n  id        String         @id @default(cuid())\n  name      String\n  value     String\n  type      CredentialType\n  createdAt DateTime       @default(now())\n  updatedAt DateTime       @updatedAt\n\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  Node   Node[]\n  agents Agent[]\n\n  @@index([userId, type])\n  @@index([userId, name])\n}\n\nenum CredentialType {\n  OPENAI\n  ANTHROPIC\n  GEMINI\n}\n\nmodel Workflow {\n  id        String   @id @default(cuid())\n  name      String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  nodes       Node[]\n  connections Connection[]\n  executions  Execution[]\n  agentTools  AgentTool[]\n\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId, name])\n  @@index([userId, updatedAt])\n}\n\nenum NodeType {\n  INITIAL\n  MANUAL_TRIGGER\n  HTTP_REQUEST\n  GOOGLE_FORM_TRIGGER\n  STRIPE_TRIGGER\n  ANTHROPIC\n  GEMINI\n  OPENAI\n  DISCORD\n  SLACK\n}\n\nmodel Node {\n  id         String   @id @default(cuid())\n  workflowId String\n  workflow   Workflow @relation(fields: [workflowId], references: [id], onDelete: Cascade)\n\n  name     String\n  type     NodeType\n  position Json\n  data     Json     @default(\"{}\")\n\n  credentialId String?\n  credential   Credential? @relation(fields: [credentialId], references: [id])\n\n  outputConnections Connection[] @relation(\"FromNode\")\n  inputConnections  Connection[] @relation(\"ToNode\")\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\nmodel Connection {\n  id         String   @id @default(cuid())\n  workflowId String\n  workflow   Workflow @relation(fields: [workflowId], references: [id], onDelete: Cascade)\n\n  fromNodeId String\n  fromNode   Node   @relation(\"FromNode\", fields: [fromNodeId], references: [id], onDelete: Cascade)\n  toNodeId   String\n  toNode     Node   @relation(\"ToNode\", fields: [toNodeId], references: [id], onDelete: Cascade)\n\n  fromOutput String @default(\"main\")\n  toInput    String @default(\"main\")\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([fromNodeId, toNodeId, fromOutput, toInput])\n}\n\nenum ExecutionStatus {\n  RUNNING\n  SUCCESS\n  FAILED\n}\n\nmodel Execution {\n  id String @id @default(cuid())\n\n  workflowId String\n  workflow   Workflow @relation(fields: [workflowId], references: [id], onDelete: Cascade)\n\n  status     ExecutionStatus @default(RUNNING)\n  error      String?         @db.Text\n  errorStack String?         @db.Text\n\n  startedAt   DateTime  @default(now())\n  completedAt DateTime?\n\n  inngestEventId String @unique\n\n  output Json?\n}\n\n// ===================\n// AGENT MODELS\n// ===================\n\nmodel Agent {\n  id           String  @id @default(cuid())\n  name         String\n  description  String? @db.Text\n  systemPrompt String  @db.Text\n\n  // Context (read-only instructions, like Lindy)\n  context String? @db.Text\n\n  // Configuration\n  model       AgentModel @default(ANTHROPIC)\n  temperature Float      @default(0.7)\n\n  // Safe Mode - ask confirmation before side-effect actions\n  safeMode Boolean @default(false)\n\n  // V6 Features - LLM Configuration\n  llmTier        String? // \"fast\" (Haiku) | \"smart\" (Sonnet) | \"deep\" (Opus)\n  maxStepsPerRun Int?    @default(10)\n\n  // V6 Features - Eval Rules (L1/L2/L3)\n  evalRules Json? // { assertions: [], min_confidence: 0.6, l3_trigger: \"on_irreversible_action\", ... }\n\n  // Workspace (for multi-tenancy)\n  workspaceId String?\n\n  // Avatar/Icon (optional)\n  avatar String?\n\n  // Tags for organization\n  tags String[] @default([])\n\n  // Favorite\n  isFavorite Boolean @default(false)\n\n  // Enabled/Active status (like Lindy)\n  isEnabled Boolean @default(true)\n\n  // Template reference (for loading flowData)\n  templateId String?\n  template   AgentTemplate? @relation(fields: [templateId], references: [id])\n\n  // Custom flow data (user modifications to the template flow)\n  // If null, use the template's flowData; if set, use this instead\n  flowData Json?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relations\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  credentialId String?\n  credential   Credential? @relation(fields: [credentialId], references: [id])\n\n  conversations Conversation[]\n  agentTools    AgentTool[]\n\n  // Memory & Knowledge\n  memories           AgentMemory[]\n  knowledgeDocuments KnowledgeDocument[]\n  knowledgeSettings  KnowledgeSettings?\n\n  // Triggers\n  triggers AgentTrigger[]\n\n  // Embed widget\n  embed AgentEmbed?\n\n  // Multi-agent connections (Society of Agents)\n  connectedTo   AgentConnection[] @relation(\"SourceAgent\")\n  connectedFrom AgentConnection[] @relation(\"TargetAgent\")\n\n  // Agent Swarms (parallel execution)\n  swarms AgentSwarm[]\n\n  // Email address for inbound email trigger\n  emailAddress AgentEmailAddress?\n\n  // Meeting recordings\n  meetingRecordings MeetingRecording[]\n\n  // Phone number for voice calls\n  phoneNumber AgentPhoneNumber?\n\n  // Analytics metrics\n  metrics AgentMetric[]\n\n  // Traces (LangChain-style)\n  traces AgentTrace[]\n\n  // Insights (Phase 2)\n  insights AgentInsight[]\n\n  // Optimization (Phase 3)\n  feedbacks        AgentFeedback[]\n  abTests          AgentABTest[]\n  optimizationRuns OptimizationRun[]\n\n  // Meta-Agent (Phase 4)\n  modificationProposals ModificationProposal[]\n\n  @@index([userId, name])\n  @@index([userId, updatedAt])\n  @@map(\"agent\")\n}\n\n// Multi-agent connections (Society of Agents)\nmodel AgentConnection {\n  id String @id @default(cuid())\n\n  // Source agent (the one that can call)\n  sourceAgentId String\n  sourceAgent   Agent  @relation(\"SourceAgent\", fields: [sourceAgentId], references: [id], onDelete: Cascade)\n\n  // Target agent (the one being called)\n  targetAgentId String\n  targetAgent   Agent  @relation(\"TargetAgent\", fields: [targetAgentId], references: [id], onDelete: Cascade)\n\n  // How the source agent should refer to the target\n  alias       String // e.g., \"research_assistant\", \"email_writer\"\n  description String @db.Text // Description shown to the source agent\n\n  // Configuration\n  enabled Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([sourceAgentId, targetAgentId])\n  @@unique([sourceAgentId, alias])\n  @@map(\"agent_connection\")\n}\n\nenum AgentModel {\n  ANTHROPIC\n  OPENAI\n  GEMINI\n}\n\n// Junction table for Agent <-> Workflow/Composio (tools)\nmodel AgentTool {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // ============================================\n  // Workflow-based tool (legacy)\n  // ============================================\n  workflowId String?\n  workflow   Workflow? @relation(fields: [workflowId], references: [id], onDelete: Cascade)\n\n  // ============================================\n  // Composio-based tool (new)\n  // ============================================\n  composioAppKey     String? // Ex: \"gmail\"\n  composioActionName String? // Ex: \"GMAIL_SEND_EMAIL\"\n  composioConfig     Json? // Action parameters/config\n\n  // ============================================\n  // Common fields\n  // ============================================\n  name        String // Display name for the tool\n  description String @db.Text // Description for the LLM\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([agentId, workflowId])\n  @@map(\"agent_tool\")\n}\n\nmodel Conversation {\n  id    String  @id @default(cuid())\n  title String? // Auto-generated or user-defined\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  messages Message[]\n\n  // Thread features (like Lindy)\n  isArchived Boolean @default(false)\n  isPinned   Boolean @default(false)\n\n  // Share token for public access\n  shareToken String? @unique\n\n  // Source of the conversation\n  source ConversationSource @default(CHAT)\n\n  // Activity log\n  activities ConversationActivity[]\n\n  // Traces (LangChain-style)\n  traces AgentTrace[]\n\n  // Evaluation (Phase 2)\n  evaluation ConversationEvaluation?\n\n  // Feedback (Phase 3)\n  feedbacks AgentFeedback[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"conversation\")\n}\n\nenum ConversationSource {\n  CHAT // Manual chat\n  EMBED // From embed widget\n  EMAIL // From inbound email\n  PHONE // From phone call\n  SLACK // From Slack mention\n  WEBHOOK // From webhook trigger\n  SCHEDULE // From scheduled trigger\n}\n\nenum MessageRole {\n  USER\n  ASSISTANT\n  SYSTEM\n  TOOL\n}\n\nmodel Message {\n  id String @id @default(cuid())\n\n  conversationId String\n  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n\n  role    MessageRole\n  content String      @db.Text\n\n  // For tool calls/results\n  toolName   String?\n  toolInput  Json?\n  toolOutput Json?\n\n  createdAt DateTime @default(now())\n\n  @@map(\"message\")\n}\n\n// ===================\n// CONVERSATION ACTIVITY LOG\n// ===================\n\nmodel ConversationActivity {\n  id String @id @default(cuid())\n\n  conversationId String\n  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n\n  // Activity type\n  type ActivityType\n\n  // Activity details\n  title   String\n  details Json?\n\n  // For actions requiring confirmation (Safe Mode)\n  requiresConfirmation Boolean   @default(false)\n  confirmedAt          DateTime?\n  rejectedAt           DateTime?\n\n  createdAt DateTime @default(now())\n\n  @@map(\"conversation_activity\")\n}\n\nenum ActivityType {\n  MESSAGE_SENT\n  MESSAGE_RECEIVED\n  TOOL_CALLED\n  TOOL_COMPLETED\n  TOOL_FAILED\n  EMAIL_SENT\n  EMAIL_RECEIVED\n  CALENDAR_EVENT_CREATED\n  SLACK_MESSAGE_SENT\n  MEMORY_UPDATED\n  KNOWLEDGE_SEARCHED\n  AGENT_DELEGATED\n  CONFIRMATION_REQUESTED\n  CONFIRMATION_APPROVED\n  CONFIRMATION_REJECTED\n  ERROR_OCCURRED\n}\n\n// ===================\n// AGENT MEMORY SYSTEM\n// ===================\n\n// Persistent memory entries (like Lindy's \"small snippets of information\")\nmodel AgentMemory {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Memory content\n  key      String // Short identifier (e.g., \"user_preference\", \"last_meeting\")\n  value    String         @db.Text // The actual memory content\n  category MemoryCategory @default(GENERAL)\n\n  // For RAG - vector embedding\n  embedding Float[] @default([])\n\n  // Metadata\n  source    String? // Where this memory came from (conversation ID, etc.)\n  expiresAt DateTime? // Optional expiration\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([agentId, key])\n  @@map(\"agent_memory\")\n}\n\nenum MemoryCategory {\n  GENERAL // General facts\n  PREFERENCE // User preferences\n  CONTEXT // Contextual information\n  HISTORY // Historical events\n  INSTRUCTION // Standing instructions\n}\n\n// Knowledge base documents for RAG (like Lindy)\nmodel KnowledgeDocument {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Document info\n  title    String\n  content  String  @db.Text\n  source   String? // URL, file path, or external ID\n  mimeType String  @default(\"text/plain\")\n  fileSize Int? // bytes\n\n  // Source type (like Lindy)\n  sourceType KnowledgeSourceType @default(TEXT)\n\n  // For external sources (Google Drive, etc.)\n  externalId  String?\n  externalUrl String?\n\n  // Sync status\n  syncStatus   KnowledgeSyncStatus @default(SYNCED)\n  lastSyncedAt DateTime?\n  syncError    String?\n\n  // Chunked embeddings\n  chunks KnowledgeChunk[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"knowledge_document\")\n}\n\nenum KnowledgeSourceType {\n  TEXT // Free text / FAQ\n  FILE_UPLOAD // PDF, DOCX, TXT, etc.\n  WEBSITE // Scraped website\n  WEBSITE_CRAWL // Full site crawl\n  GOOGLE_DRIVE // Google Drive file\n  NOTION // Notion page/database\n  DROPBOX // Dropbox file\n  ONEDRIVE // OneDrive file\n}\n\nenum KnowledgeSyncStatus {\n  PENDING\n  SYNCING\n  SYNCED\n  ERROR\n}\n\nmodel KnowledgeChunk {\n  id String @id @default(cuid())\n\n  documentId String\n  document   KnowledgeDocument @relation(fields: [documentId], references: [id], onDelete: Cascade)\n\n  content   String  @db.Text\n  embedding Float[] @default([])\n  position  Int // Order in document\n\n  // Metadata for search\n  pageNumber Int?\n  heading    String?\n\n  createdAt DateTime @default(now())\n\n  @@map(\"knowledge_chunk\")\n}\n\n// Knowledge Base Settings (per agent)\nmodel KnowledgeSettings {\n  id String @id @default(cuid())\n\n  agentId String @unique\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Search configuration (like Lindy)\n  searchFuzziness Int     @default(100) // 0=keyword, 100=semantic\n  maxResults      Int     @default(4) // 1-10\n  autoRefresh     Boolean @default(true)\n  refreshInterval Int     @default(24) // hours\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"knowledge_settings\")\n}\n\n// ===================\n// AGENT TRIGGERS\n// ===================\n\nmodel AgentTrigger {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  name    String\n  type    TriggerType\n  enabled Boolean     @default(true)\n\n  // Configuration based on type\n  config Json @default(\"{}\")\n\n  // For scheduled triggers\n  cronExpression String?\n  nextRunAt      DateTime?\n  lastRunAt      DateTime?\n\n  // For webhook triggers\n  webhookSecret String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"agent_trigger\")\n}\n\nenum TriggerType {\n  SCHEDULE // Cron-based scheduling\n  WEBHOOK // External webhook\n  EMAIL // Email received\n  CHAT // Chat message (default)\n  AGENT_MESSAGE // Message from another agent\n}\n\n// ===================\n// AGENT TEMPLATES\n// ===================\n\nmodel AgentTemplate {\n  id   String  @id @default(cuid())\n  slug String? @unique // URL-friendly identifier, ex: \"relance-client-inactif\"\n\n  name        String\n  subtitle    String? // Short description for card view (2 lines max)\n  description String           @db.Text\n  category    TemplateCategory\n  role        TemplateRole?\n  useCase     TemplateUseCase?\n\n  // Template configuration\n  systemPrompt String     @db.Text\n  context      String?    @db.Text\n  model        AgentModel @default(ANTHROPIC)\n  temperature  Float      @default(0.7)\n\n  // V6 Trigger Configuration\n  trigger Json @default(\"{}\") // TriggerConfig - what triggers the agent\n\n  // V6 Configuration - LLM Tiering\n  llmTier        String @default(\"sonnet\") // \"haiku\" | \"sonnet\" | \"opus\"\n  maxStepsPerRun Int    @default(10) // Guard-rail for cost\n\n  // V6 Configuration - Data Fetching\n  fetchSources Json @default(\"[]\") // AgentFetchSource[] - what data to fetch\n\n  // V6 Configuration - Actions\n  actions Json @default(\"[]\") // AgentAction[] - what the agent can do\n\n  // V6 Configuration - Eval Rules (L1/L2/L3)\n  evalRules Json @default(\"{}\") // EvalRules - evaluation config\n\n  // Suggested tools/integrations (for UI display)\n  suggestedTools        Json     @default(\"[]\")\n  suggestedTriggers     Json     @default(\"[]\")\n  suggestedIntegrations String[] @default([])\n\n  // Pre-configured flow and defaults (auto-created on template use)\n  flowData        Json @default(\"{}\") // { nodes: [], edges: [] } for React Flow\n  defaultTriggers Json @default(\"[]\") // Triggers to auto-create\n  defaultTools    Json @default(\"[]\") // Workflows/tools to auto-create\n\n  // UI\n  icon       String?\n  color      String?\n  coverImage String?\n\n  // Community / Store features\n  isPublic      Boolean @default(false)\n  isFeatured    Boolean @default(false)\n  createdById   String?\n  createdByName String?\n\n  // Stats\n  usageCount  Int   @default(0)\n  rating      Float @default(0)\n  reviewCount Int   @default(0)\n\n  // Tags for search\n  tags String[] @default([])\n\n  // Agents created from this template\n  agents Agent[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"agent_template\")\n}\n\nenum TemplateCategory {\n  PRODUCTIVITY // Email, calendar, tasks\n  SALES // Lead qualification, outreach\n  MARKETING // Brand, SEO, content marketing\n  SUPPORT // Customer support, FAQ\n  RESEARCH // Web research, analysis\n  CREATIVE // Content creation, writing\n  OPERATIONS // Workflows, automation\n  CUSTOM // User-created\n}\n\nenum TemplateRole {\n  ENGINEERING\n  HUMAN_RESOURCES\n  MARKETING\n  OPERATIONS\n  PRODUCT\n  SALES\n  SUPPORT\n}\n\nenum TemplateUseCase {\n  AI_ASSISTANT\n  CHATBOT\n  COACHING\n  CONTENT_CREATION\n  DOCUMENT_PROCESSING\n  EMAILS\n  MEETINGS\n  OUTREACH\n  PHONE\n  PRODUCTIVITY\n  RESEARCH\n  TEAMS\n  WEB_SCRAPER\n}\n\n// ===================\n// WIDGET EMBED\n// ===================\n\nmodel AgentEmbed {\n  id String @id @default(cuid())\n\n  agentId String @unique\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Embed configuration\n  enabled        Boolean  @default(true)\n  allowedDomains String[] @default([])\n\n  // Customization - Basic\n  displayName    String?\n  welcomeMessage String?\n  logo           String?\n\n  // Customization - Colors (like Lindy)\n  accentColor     String @default(\"#6366f1\")\n  backgroundColor String @default(\"#ffffff\")\n  textColor       String @default(\"#1f2937\")\n  userBubbleColor String @default(\"#6366f1\")\n  botBubbleColor  String @default(\"#f3f4f6\")\n\n  // Customization - Position & Size\n  position     EmbedPosition @default(BOTTOM_RIGHT)\n  buttonSize   Int           @default(56)\n  windowWidth  Int           @default(400)\n  windowHeight Int           @default(600)\n\n  // Customization - Behavior\n  autoOpen      Boolean @default(false)\n  autoOpenDelay Int     @default(0) // seconds\n  showBranding  Boolean @default(true)\n  collectEmail  Boolean @default(false)\n  requireEmail  Boolean @default(false)\n\n  // Suggested prompts\n  conversationStarters Json @default(\"[]\")\n\n  // Custom CSS (advanced)\n  customCss String? @db.Text\n\n  // Analytics\n  totalConversations Int @default(0)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"agent_embed\")\n}\n\nenum EmbedPosition {\n  BOTTOM_RIGHT\n  BOTTOM_LEFT\n  TOP_RIGHT\n  TOP_LEFT\n}\n\n// ===================\n// AGENT EMAIL ADDRESS (Inbound Email Trigger)\n// ===================\n\nmodel AgentEmailAddress {\n  id String @id @default(cuid())\n\n  agentId String @unique\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Unique email address for this agent\n  localPart String // e.g., \"agent-abc123\"\n  domain    String @default(\"agents.nodebase.app\")\n\n  // Configuration\n  autoReply Boolean @default(true)\n\n  createdAt DateTime @default(now())\n\n  @@unique([localPart, domain])\n  @@map(\"agent_email_address\")\n}\n\n// ===================\n// INTEGRATIONS\n// ===================\n\nmodel Integration {\n  id String @id @default(cuid())\n\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  type IntegrationType\n\n  // OAuth tokens (encrypted)\n  accessToken  String    @db.Text\n  refreshToken String?   @db.Text\n  expiresAt    DateTime?\n\n  // Account info\n  accountEmail String?\n  accountName  String?\n\n  // Scopes granted\n  scopes String[] @default([])\n\n  // Slack-specific fields\n  teamId    String?\n  teamName  String?\n  botUserId String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([userId, type])\n  @@map(\"integration\")\n}\n\nenum IntegrationType {\n  // Google\n  GMAIL\n  GOOGLE_CALENDAR\n  GOOGLE_SHEETS\n  GOOGLE_DRIVE\n  GOOGLE_DOCS\n  // Microsoft\n  OUTLOOK\n  OUTLOOK_CALENDAR\n  MICROSOFT_TEAMS\n  // Other\n  SLACK\n  NOTION\n}\n\n// ===================\n// AGENT SWARMS (Parallel Execution)\n// ===================\n\nmodel AgentSwarm {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Swarm configuration\n  name         String\n  taskTemplate String @db.Text // Template with {{variable}} placeholders\n\n  // Status\n  status SwarmStatus @default(PENDING)\n\n  // Tasks\n  tasks SwarmTask[]\n\n  // Stats\n  totalTasks     Int @default(0)\n  completedTasks Int @default(0)\n  failedTasks    Int @default(0)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"agent_swarm\")\n}\n\nmodel SwarmTask {\n  id String @id @default(cuid())\n\n  swarmId String\n  swarm   AgentSwarm @relation(fields: [swarmId], references: [id], onDelete: Cascade)\n\n  // Task input (JSON with variables)\n  input Json\n\n  // Execution\n  status SwarmTaskStatus @default(PENDING)\n  output String?         @db.Text\n  error  String?\n\n  startedAt   DateTime?\n  completedAt DateTime?\n\n  createdAt DateTime @default(now())\n\n  @@map(\"swarm_task\")\n}\n\nenum SwarmStatus {\n  PENDING\n  RUNNING\n  COMPLETED\n  FAILED\n  CANCELLED\n}\n\nenum SwarmTaskStatus {\n  PENDING\n  RUNNING\n  COMPLETED\n  FAILED\n}\n\n// ===================\n// MEETING RECORDINGS\n// ===================\n\nmodel MeetingRecording {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Meeting info\n  title           String\n  meetingUrl      String? // Zoom/Meet URL\n  meetingPlatform MeetingPlatform\n\n  // Calendar event reference\n  calendarEventId String?\n\n  // Recording\n  status       RecordingStatus @default(SCHEDULED)\n  recordingUrl String?\n\n  // Transcript & Summary\n  transcript  String? @db.Text\n  summary     String? @db.Text\n  actionItems Json    @default(\"[]\")\n\n  // Participants\n  participants Json @default(\"[]\")\n\n  // Timing\n  scheduledAt DateTime\n  startedAt   DateTime?\n  endedAt     DateTime?\n  duration    Int? // minutes\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@map(\"meeting_recording\")\n}\n\nenum MeetingPlatform {\n  ZOOM\n  GOOGLE_MEET\n  MICROSOFT_TEAMS\n  OTHER\n}\n\nenum RecordingStatus {\n  SCHEDULED\n  JOINING\n  RECORDING\n  PROCESSING\n  COMPLETED\n  FAILED\n}\n\n// ===================\n// VOICE/PHONE AGENT (Twilio)\n// ===================\n\nmodel AgentPhoneNumber {\n  id String @id @default(cuid())\n\n  agentId String @unique\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Twilio phone number\n  phoneNumber String @unique\n  twilioSid   String @unique\n\n  // Configuration\n  voiceEnabled  Boolean @default(true)\n  voiceGreeting String? @db.Text\n\n  // Call logs\n  calls PhoneCall[]\n\n  createdAt DateTime @default(now())\n\n  @@map(\"agent_phone_number\")\n}\n\nmodel PhoneCall {\n  id String @id @default(cuid())\n\n  phoneNumberId String\n  phoneNumber   AgentPhoneNumber @relation(fields: [phoneNumberId], references: [id], onDelete: Cascade)\n\n  // Call details\n  direction  CallDirection\n  fromNumber String\n  toNumber   String\n  status     CallStatus    @default(INITIATED)\n\n  // Twilio Call SID for tracking\n  twilioCallSid String? @unique\n\n  // Recording & transcript\n  recordingUrl String?\n  transcript   String? @db.Text\n\n  // Conversation created from this call\n  conversationId String?\n\n  duration Int? // seconds\n\n  startedAt DateTime  @default(now())\n  endedAt   DateTime?\n\n  @@map(\"phone_call\")\n}\n\nenum CallDirection {\n  INBOUND\n  OUTBOUND\n}\n\nenum CallStatus {\n  INITIATED\n  RINGING\n  IN_PROGRESS\n  COMPLETED\n  FAILED\n  NO_ANSWER\n}\n\n// ===================\n// AGENT ANALYTICS METRICS\n// ===================\n\nmodel AgentMetric {\n  id String @id @default(cuid())\n\n  agentId String\n  agent   Agent  @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  // Time period\n  date DateTime @db.Date\n\n  // Conversation metrics\n  totalConversations  Int   @default(0)\n  totalMessages       Int   @default(0)\n  avgMessagesPerConvo Float @default(0)\n\n  // Performance\n  avgResponseTimeMs Int @default(0)\n  totalTokensUsed   Int @default(0)\n\n  // Tool usage\n  toolCallsCount  Int   @default(0)\n  toolSuccessRate Float @default(0)\n\n  // Satisfaction (if feedback enabled)\n  feedbackPositive Int @default(0)\n  feedbackNegative Int @default(0)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([agentId, date])\n  @@map(\"agent_metric\")\n}\n\n// ===================\n// SCAN ENGINE (V6)\n// ===================\n\nmodel ScanResult {\n  id          String  @id @default(cuid())\n  userId      String // User who triggered/owns the scan\n  workspaceId String? // Optional workspace (for multi-tenant future)\n\n  category ScanCategory\n  signals  Json         @default(\"[]\") // ScanSignal[]\n\n  // Stats\n  totalSignals  Int @default(0)\n  criticalCount Int @default(0)\n  highCount     Int @default(0)\n  mediumCount   Int @default(0)\n  lowCount      Int @default(0)\n\n  scannedAt DateTime @default(now())\n\n  @@index([userId, category])\n  @@index([userId, scannedAt])\n  @@index([workspaceId, category])\n  @@map(\"scan_result\")\n}\n\nenum ScanCategory {\n  SALES\n  SUPPORT\n  MARKETING\n  HR\n  FINANCE\n  PROJECTS\n}\n\n// Individual signal for better tracking\nmodel Signal {\n  id           String @id @default(cuid())\n  scanResultId String\n\n  type     String // ex: 'deal_stuck', 'ticket_escalation', 'churn_risk'\n  category ScanCategory\n  severity SignalSeverity\n  source   String // ex: 'hubspot', 'zendesk', 'gmail'\n\n  title       String\n  description String @db.Text\n  metadata    Json   @default(\"{}\")\n\n  // Suggested action\n  suggestedTemplateId String? // Template that can handle this signal\n\n  // User interaction\n  snoozedUntil DateTime?\n  dismissedAt  DateTime?\n  actedOnAt    DateTime?\n\n  detectedAt DateTime @default(now())\n\n  @@index([scanResultId])\n  @@index([category, severity])\n  @@index([source])\n  @@map(\"signal\")\n}\n\nenum SignalSeverity {\n  LOW\n  MEDIUM\n  HIGH\n  CRITICAL\n}\n\n// ===================\n// AGENT RUN / EVAL (V6)\n// ===================\n\nmodel AgentRun {\n  id String @id @default(cuid())\n\n  agentId     String\n  userId      String\n  workspaceId String\n\n  // Trigger info\n  triggeredAt DateTime @default(now())\n  triggeredBy String // \"manual\" | \"schedule\" | \"webhook\" | \"email\" | \"chat\"\n\n  // Data sources fetched\n  dataSources Json @default(\"[]\")\n\n  // Output\n  outputType    String? // \"text\" | \"email_draft\" | \"slack_message\" | etc\n  outputContent String? @db.Text\n\n  // LLM usage\n  llmModel      String\n  llmTokensUsed Int    @default(0)\n  llmCost       Float  @default(0)\n\n  // L1 Eval - Deterministic assertions\n  l1Assertions Json    @default(\"[]\")\n  l1Passed     Boolean @default(false)\n\n  // L2 Eval - Rule-based scoring\n  l2Score     Int  @default(0)\n  l2Breakdown Json @default(\"{}\")\n\n  // L3 Eval - LLM-as-Judge\n  l3Triggered Boolean  @default(false)\n  l3Blocked   Boolean?\n  l3Reason    String?  @db.Text\n\n  // User action on the output\n  userAction  String? // \"approved\" | \"edited\" | \"rejected\"\n  draftDiff   String?   @db.Text // If edited, the diff\n  finalAction String? // What was actually sent/executed\n  finalAt     DateTime?\n\n  // Status\n  status String @default(\"running\") // \"running\" | \"pending_review\" | \"completed\" | \"failed\" | \"blocked\"\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([agentId, triggeredAt])\n  @@index([workspaceId, triggeredAt])\n  @@index([status])\n  @@map(\"agent_run\")\n}\n\n// ===================\n// AI EVENT LOGGING (V6)\n// ===================\n\nmodel AiEvent {\n  id String @id @default(cuid())\n\n  // Link to trace (LangChain-style tracing)\n  traceId String?\n  trace   AgentTrace? @relation(fields: [traceId], references: [id], onDelete: Cascade)\n\n  agentId        String?\n  conversationId String?\n  userId         String\n  workspaceId    String?\n\n  // Model info\n  model String // \"claude-3-5-haiku-20241022\" | \"claude-sonnet-4-20250514\" | \"claude-opus-4-20250514\"\n  tier  String // \"haiku\" | \"sonnet\" | \"opus\"\n\n  // Usage\n  tokensIn  Int\n  tokensOut Int\n  cost      Float // USD\n  latencyMs Int\n\n  // Context (LangChain-style)\n  stepNumber Int     @default(1)\n  action     String // \"reasoning\" | \"tool_call\" | \"response\" | \"message\" | \"chat\" | \"stream\"\n  toolName   String?\n  toolInput  Json?\n  toolOutput Json?\n\n  // Eval (kept from V6)\n  stepsUsed  Int    @default(1)\n  evalResult String @default(\"pass\") // \"pass\" | \"block\" | \"warn\"\n\n  timestamp DateTime @default(now())\n\n  @@index([traceId])\n  @@index([agentId, timestamp])\n  @@index([workspaceId, timestamp])\n  @@index([userId, timestamp])\n  @@map(\"ai_event\")\n}\n\n// ===================\n// AGENT TRACE (LangChain/LangSmith-style)\n// ===================\n\nmodel AgentTrace {\n  id             String @id @default(cuid())\n  agentId        String\n  conversationId String\n  userId         String\n  workspaceId    String\n\n  // Trace metadata\n  startedAt   DateTime    @default(now())\n  completedAt DateTime?\n  status      TraceStatus @default(RUNNING)\n\n  // Execution details\n  steps      Json @default(\"[]\") // Step[]\n  totalSteps Int  @default(0)\n  maxSteps   Int  @default(5)\n\n  // LLM usage (aggregated)\n  totalTokensIn  Int   @default(0)\n  totalTokensOut Int   @default(0)\n  totalCost      Float @default(0)\n  latencyMs      Int?\n\n  // Tool usage\n  toolCalls     Json @default(\"[]\") // ToolCall[]\n  toolSuccesses Int  @default(0)\n  toolFailures  Int  @default(0)\n\n  // Evaluation (L1/L2/L3 from plan)\n  l1Passed    Boolean?\n  l1Failures  Json?\n  l2Score     Float?\n  l2Breakdown Json?\n  l3Triggered Boolean  @default(false)\n  l3Blocked   Boolean?\n\n  // User feedback (for optimization loop)\n  feedbackScore   Int? // 1-5\n  feedbackComment String? @db.Text\n  userEdited      Boolean @default(false)\n  editDiff        String? @db.Text\n\n  // Relations\n  agent        Agent           @relation(fields: [agentId], references: [id], onDelete: Cascade)\n  conversation Conversation    @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n  aiEvents     AiEvent[]\n  feedbacks    AgentFeedback[] // Phase 3\n\n  @@index([agentId, startedAt])\n  @@index([conversationId])\n  @@index([userId, startedAt])\n  @@index([workspaceId, startedAt])\n  @@map(\"agent_trace\")\n}\n\nenum TraceStatus {\n  RUNNING\n  COMPLETED\n  FAILED\n  TIMEOUT\n  CANCELLED\n}\n\n// ===================\n// CONVERSATION EVALUATION (Phase 2 - Multi-turn Evals)\n// ===================\n\nmodel ConversationEvaluation {\n  id             String   @id @default(cuid())\n  conversationId String   @unique\n  evaluatedAt    DateTime @default(now())\n\n  // Goal completion\n  goalCompleted            Boolean\n  goalCompletionConfidence Float // 0-1\n\n  // Satisfaction\n  userSatisfactionScore Float // 1-5\n\n  // Categorization\n  categories String[] // [\"sales\", \"support\"]\n\n  // Failure detection\n  failureModes String[] // [\"hallucination\", \"tool_error\"]\n\n  // Suggestions\n  improvementSuggestions String[]\n\n  // Metadata\n  metadata Json\n\n  conversation Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n\n  @@index([conversationId])\n  @@index([evaluatedAt])\n  @@map(\"conversation_evaluation\")\n}\n\n// ===================\n// AGENT INSIGHTS (Phase 2 - Auto-categorization)\n// ===================\n\nmodel AgentInsight {\n  id             String   @id @default(cuid())\n  agentId        String\n  generatedAt    DateTime @default(now())\n  timeframeStart DateTime\n  timeframeEnd   DateTime\n\n  // Clusters\n  clusters Json // ConversationCluster[]\n\n  // Patterns\n  patterns Json // UsagePattern[]\n\n  // Anomalies\n  anomalies Json // Anomaly[]\n\n  // Opportunities\n  opportunities Json // OptimizationOpportunity[]\n\n  agent Agent @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  @@index([agentId, generatedAt])\n  @@map(\"agent_insight\")\n}\n\n// ===================\n// AGENT FEEDBACK (Phase 3 - Auto-Optimization)\n// ===================\n\nmodel AgentFeedback {\n  id             String @id @default(cuid())\n  traceId        String\n  conversationId String\n  userId         String\n  agentId        String\n\n  type      FeedbackType\n  timestamp DateTime     @default(now())\n\n  // Context\n  originalOutput String  @db.Text\n  userEdit       String? @db.Text\n  correctionText String? @db.Text\n\n  // Metadata\n  stepNumber Int\n  metadata   Json?\n\n  trace        AgentTrace   @relation(fields: [traceId], references: [id], onDelete: Cascade)\n  conversation Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n  agent        Agent        @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  @@index([agentId, timestamp])\n  @@index([traceId])\n  @@map(\"agent_feedback\")\n}\n\nenum FeedbackType {\n  THUMBS_UP\n  THUMBS_DOWN\n  USER_EDIT\n  APPROVAL_REJECT\n  EXPLICIT_CORRECTION\n  RETRY_REQUEST\n}\n\n// ===================\n// AGENT A/B TEST (Phase 3 - Prompt Optimization)\n// ===================\n\nmodel AgentABTest {\n  id      String @id @default(cuid())\n  agentId String\n\n  variantAPrompt String @db.Text\n  variantBPrompt String @db.Text\n  trafficSplit   Float  @default(0.2) // % to variant B\n\n  status    ABTestStatus\n  startedAt DateTime     @default(now())\n  endedAt   DateTime?\n\n  // Results\n  variantATraces Int     @default(0)\n  variantBTraces Int     @default(0)\n  variantAScore  Float?\n  variantBScore  Float?\n  winningVariant String? // \"A\" or \"B\"\n\n  agent Agent @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  @@index([agentId, status])\n  @@map(\"agent_ab_test\")\n}\n\nenum ABTestStatus {\n  RUNNING\n  COMPLETED\n  CANCELLED\n}\n\n// ===================\n// OPTIMIZATION RUN (Phase 3 - Promptim-style)\n// ===================\n\nmodel OptimizationRun {\n  id          String   @id @default(cuid())\n  agentId     String\n  triggeredAt DateTime @default(now())\n  triggeredBy String // \"accumulated_feedback\" | \"manual\" | \"scheduled\"\n\n  // Analysis\n  editPatterns     Json // EditPattern[]\n  promptVariations Json // PromptVariation[]\n  testResults      Json // VariationTestResult[]\n\n  // Outcome\n  recommendation String  @db.Text\n  abTestId       String?\n  status         String // \"analyzing\" | \"testing\" | \"completed\"\n\n  agent Agent @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  @@index([agentId, triggeredAt])\n  @@map(\"optimization_run\")\n}\n\n// ===================\n// MODIFICATION PROPOSAL (Phase 4 - Self-Modifying Agents)\n// ===================\n\nmodel ModificationProposal {\n  id         String   @id @default(cuid())\n  agentId    String\n  proposedAt DateTime @default(now())\n\n  type      ModificationType\n  current   String           @db.Text\n  proposed  String           @db.Text\n  rationale String           @db.Text\n  impact    String\n\n  status     ProposalStatus @default(PENDING)\n  reviewedAt DateTime?\n  reviewedBy String?\n  appliedAt  DateTime?\n\n  agent Agent @relation(fields: [agentId], references: [id], onDelete: Cascade)\n\n  @@index([agentId, status])\n  @@map(\"modification_proposal\")\n}\n\nenum ModificationType {\n  PROMPT_REFINEMENT\n  MODEL_DOWNGRADE\n  MODEL_UPGRADE\n  ADD_TOOL\n  REMOVE_TOOL\n  ADD_RAG\n  ADJUST_TEMPERATURE\n  ADJUST_MAX_STEPS\n}\n\nenum ProposalStatus {\n  PENDING\n  APPROVED\n  REJECTED\n  APPLIED\n}\n",
  "inlineSchemaHash": "53f437b9072d11cfd259bf38fd7b44ad21a2a043df8446121d785189f4bfe5ba",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"emailVerified\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"image\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"sessions\",\"kind\":\"object\",\"type\":\"Session\",\"relationName\":\"SessionToUser\"},{\"name\":\"accounts\",\"kind\":\"object\",\"type\":\"Account\",\"relationName\":\"AccountToUser\"},{\"name\":\"workflows\",\"kind\":\"object\",\"type\":\"Workflow\",\"relationName\":\"UserToWorkflow\"},{\"name\":\"credentials\",\"kind\":\"object\",\"type\":\"Credential\",\"relationName\":\"CredentialToUser\"},{\"name\":\"agents\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToUser\"},{\"name\":\"integrations\",\"kind\":\"object\",\"type\":\"Integration\",\"relationName\":\"IntegrationToUser\"}],\"dbName\":\"user\"},\"Session\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userAgent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"SessionToUser\"}],\"dbName\":\"session\"},\"Account\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"accountId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"providerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AccountToUser\"},{\"name\":\"accessToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"refreshToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"idToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"accessTokenExpiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"refreshTokenExpiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"scope\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"password\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"account\"},\"Verification\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"identifier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"verification\"},\"Credential\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"CredentialType\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CredentialToUser\"},{\"name\":\"Node\",\"kind\":\"object\",\"type\":\"Node\",\"relationName\":\"CredentialToNode\"},{\"name\":\"agents\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToCredential\"}],\"dbName\":null},\"Workflow\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"nodes\",\"kind\":\"object\",\"type\":\"Node\",\"relationName\":\"NodeToWorkflow\"},{\"name\":\"connections\",\"kind\":\"object\",\"type\":\"Connection\",\"relationName\":\"ConnectionToWorkflow\"},{\"name\":\"executions\",\"kind\":\"object\",\"type\":\"Execution\",\"relationName\":\"ExecutionToWorkflow\"},{\"name\":\"agentTools\",\"kind\":\"object\",\"type\":\"AgentTool\",\"relationName\":\"AgentToolToWorkflow\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToWorkflow\"}],\"dbName\":null},\"Node\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflowId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflow\",\"kind\":\"object\",\"type\":\"Workflow\",\"relationName\":\"NodeToWorkflow\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"NodeType\"},{\"name\":\"position\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"data\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"credentialId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"credential\",\"kind\":\"object\",\"type\":\"Credential\",\"relationName\":\"CredentialToNode\"},{\"name\":\"outputConnections\",\"kind\":\"object\",\"type\":\"Connection\",\"relationName\":\"FromNode\"},{\"name\":\"inputConnections\",\"kind\":\"object\",\"type\":\"Connection\",\"relationName\":\"ToNode\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Connection\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflowId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflow\",\"kind\":\"object\",\"type\":\"Workflow\",\"relationName\":\"ConnectionToWorkflow\"},{\"name\":\"fromNodeId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fromNode\",\"kind\":\"object\",\"type\":\"Node\",\"relationName\":\"FromNode\"},{\"name\":\"toNodeId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toNode\",\"kind\":\"object\",\"type\":\"Node\",\"relationName\":\"ToNode\"},{\"name\":\"fromOutput\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toInput\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Execution\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflowId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflow\",\"kind\":\"object\",\"type\":\"Workflow\",\"relationName\":\"ExecutionToWorkflow\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"ExecutionStatus\"},{\"name\":\"error\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"errorStack\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"inngestEventId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"output\",\"kind\":\"scalar\",\"type\":\"Json\"}],\"dbName\":null},\"Agent\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"systemPrompt\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"context\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"model\",\"kind\":\"enum\",\"type\":\"AgentModel\"},{\"name\":\"temperature\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"safeMode\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"llmTier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"maxStepsPerRun\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"evalRules\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"workspaceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tags\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isFavorite\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"templateId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"template\",\"kind\":\"object\",\"type\":\"AgentTemplate\",\"relationName\":\"AgentToAgentTemplate\"},{\"name\":\"flowData\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AgentToUser\"},{\"name\":\"credentialId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"credential\",\"kind\":\"object\",\"type\":\"Credential\",\"relationName\":\"AgentToCredential\"},{\"name\":\"conversations\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"AgentToConversation\"},{\"name\":\"agentTools\",\"kind\":\"object\",\"type\":\"AgentTool\",\"relationName\":\"AgentToAgentTool\"},{\"name\":\"memories\",\"kind\":\"object\",\"type\":\"AgentMemory\",\"relationName\":\"AgentToAgentMemory\"},{\"name\":\"knowledgeDocuments\",\"kind\":\"object\",\"type\":\"KnowledgeDocument\",\"relationName\":\"AgentToKnowledgeDocument\"},{\"name\":\"knowledgeSettings\",\"kind\":\"object\",\"type\":\"KnowledgeSettings\",\"relationName\":\"AgentToKnowledgeSettings\"},{\"name\":\"triggers\",\"kind\":\"object\",\"type\":\"AgentTrigger\",\"relationName\":\"AgentToAgentTrigger\"},{\"name\":\"embed\",\"kind\":\"object\",\"type\":\"AgentEmbed\",\"relationName\":\"AgentToAgentEmbed\"},{\"name\":\"connectedTo\",\"kind\":\"object\",\"type\":\"AgentConnection\",\"relationName\":\"SourceAgent\"},{\"name\":\"connectedFrom\",\"kind\":\"object\",\"type\":\"AgentConnection\",\"relationName\":\"TargetAgent\"},{\"name\":\"swarms\",\"kind\":\"object\",\"type\":\"AgentSwarm\",\"relationName\":\"AgentToAgentSwarm\"},{\"name\":\"emailAddress\",\"kind\":\"object\",\"type\":\"AgentEmailAddress\",\"relationName\":\"AgentToAgentEmailAddress\"},{\"name\":\"meetingRecordings\",\"kind\":\"object\",\"type\":\"MeetingRecording\",\"relationName\":\"AgentToMeetingRecording\"},{\"name\":\"phoneNumber\",\"kind\":\"object\",\"type\":\"AgentPhoneNumber\",\"relationName\":\"AgentToAgentPhoneNumber\"},{\"name\":\"metrics\",\"kind\":\"object\",\"type\":\"AgentMetric\",\"relationName\":\"AgentToAgentMetric\"},{\"name\":\"traces\",\"kind\":\"object\",\"type\":\"AgentTrace\",\"relationName\":\"AgentToAgentTrace\"},{\"name\":\"insights\",\"kind\":\"object\",\"type\":\"AgentInsight\",\"relationName\":\"AgentToAgentInsight\"},{\"name\":\"feedbacks\",\"kind\":\"object\",\"type\":\"AgentFeedback\",\"relationName\":\"AgentToAgentFeedback\"},{\"name\":\"abTests\",\"kind\":\"object\",\"type\":\"AgentABTest\",\"relationName\":\"AgentToAgentABTest\"},{\"name\":\"optimizationRuns\",\"kind\":\"object\",\"type\":\"OptimizationRun\",\"relationName\":\"AgentToOptimizationRun\"},{\"name\":\"modificationProposals\",\"kind\":\"object\",\"type\":\"ModificationProposal\",\"relationName\":\"AgentToModificationProposal\"}],\"dbName\":\"agent\"},\"AgentConnection\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourceAgentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourceAgent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"SourceAgent\"},{\"name\":\"targetAgentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"targetAgent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"TargetAgent\"},{\"name\":\"alias\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"enabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_connection\"},\"AgentTool\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentTool\"},{\"name\":\"workflowId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workflow\",\"kind\":\"object\",\"type\":\"Workflow\",\"relationName\":\"AgentToolToWorkflow\"},{\"name\":\"composioAppKey\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"composioActionName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"composioConfig\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_tool\"},\"Conversation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToConversation\"},{\"name\":\"messages\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"ConversationToMessage\"},{\"name\":\"isArchived\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isPinned\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"shareToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"source\",\"kind\":\"enum\",\"type\":\"ConversationSource\"},{\"name\":\"activities\",\"kind\":\"object\",\"type\":\"ConversationActivity\",\"relationName\":\"ConversationToConversationActivity\"},{\"name\":\"traces\",\"kind\":\"object\",\"type\":\"AgentTrace\",\"relationName\":\"AgentTraceToConversation\"},{\"name\":\"evaluation\",\"kind\":\"object\",\"type\":\"ConversationEvaluation\",\"relationName\":\"ConversationToConversationEvaluation\"},{\"name\":\"feedbacks\",\"kind\":\"object\",\"type\":\"AgentFeedback\",\"relationName\":\"AgentFeedbackToConversation\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"conversation\"},\"Message\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToMessage\"},{\"name\":\"role\",\"kind\":\"enum\",\"type\":\"MessageRole\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toolName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toolInput\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"toolOutput\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"message\"},\"ConversationActivity\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToConversationActivity\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"ActivityType\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"details\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"requiresConfirmation\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"confirmedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"rejectedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"conversation_activity\"},\"AgentMemory\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentMemory\"},{\"name\":\"key\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"MemoryCategory\"},{\"name\":\"embedding\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_memory\"},\"KnowledgeDocument\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToKnowledgeDocument\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"mimeType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fileSize\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceType\",\"kind\":\"enum\",\"type\":\"KnowledgeSourceType\"},{\"name\":\"externalId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"syncStatus\",\"kind\":\"enum\",\"type\":\"KnowledgeSyncStatus\"},{\"name\":\"lastSyncedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"syncError\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"chunks\",\"kind\":\"object\",\"type\":\"KnowledgeChunk\",\"relationName\":\"KnowledgeChunkToKnowledgeDocument\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"knowledge_document\"},\"KnowledgeChunk\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"documentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"document\",\"kind\":\"object\",\"type\":\"KnowledgeDocument\",\"relationName\":\"KnowledgeChunkToKnowledgeDocument\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"embedding\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"position\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"pageNumber\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"heading\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"knowledge_chunk\"},\"KnowledgeSettings\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToKnowledgeSettings\"},{\"name\":\"searchFuzziness\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"maxResults\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"autoRefresh\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"refreshInterval\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"knowledge_settings\"},\"AgentTrigger\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentTrigger\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"TriggerType\"},{\"name\":\"enabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"config\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"cronExpression\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"nextRunAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastRunAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"webhookSecret\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_trigger\"},\"AgentTemplate\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"subtitle\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"TemplateCategory\"},{\"name\":\"role\",\"kind\":\"enum\",\"type\":\"TemplateRole\"},{\"name\":\"useCase\",\"kind\":\"enum\",\"type\":\"TemplateUseCase\"},{\"name\":\"systemPrompt\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"context\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"model\",\"kind\":\"enum\",\"type\":\"AgentModel\"},{\"name\":\"temperature\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"trigger\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"llmTier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"maxStepsPerRun\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"fetchSources\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"actions\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"evalRules\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"suggestedTools\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"suggestedTriggers\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"suggestedIntegrations\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"flowData\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"defaultTriggers\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"defaultTools\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"icon\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"color\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"coverImage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isPublic\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isFeatured\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdById\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdByName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"usageCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"rating\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"reviewCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"tags\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agents\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentTemplate\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_template\"},\"AgentEmbed\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentEmbed\"},{\"name\":\"enabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"allowedDomains\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"displayName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"welcomeMessage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"logo\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"accentColor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"backgroundColor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"textColor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userBubbleColor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"botBubbleColor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"position\",\"kind\":\"enum\",\"type\":\"EmbedPosition\"},{\"name\":\"buttonSize\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"windowWidth\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"windowHeight\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"autoOpen\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"autoOpenDelay\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"showBranding\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"collectEmail\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"requireEmail\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"conversationStarters\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"customCss\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalConversations\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_embed\"},\"AgentEmailAddress\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentEmailAddress\"},{\"name\":\"localPart\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"domain\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"autoReply\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_email_address\"},\"Integration\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"IntegrationToUser\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"IntegrationType\"},{\"name\":\"accessToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"refreshToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"accountEmail\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"accountName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"scopes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"teamId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"teamName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"botUserId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"integration\"},\"AgentSwarm\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentSwarm\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"taskTemplate\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"SwarmStatus\"},{\"name\":\"tasks\",\"kind\":\"object\",\"type\":\"SwarmTask\",\"relationName\":\"AgentSwarmToSwarmTask\"},{\"name\":\"totalTasks\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"completedTasks\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"failedTasks\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_swarm\"},\"SwarmTask\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"swarmId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"swarm\",\"kind\":\"object\",\"type\":\"AgentSwarm\",\"relationName\":\"AgentSwarmToSwarmTask\"},{\"name\":\"input\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"SwarmTaskStatus\"},{\"name\":\"output\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"error\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"swarm_task\"},\"MeetingRecording\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToMeetingRecording\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"meetingUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"meetingPlatform\",\"kind\":\"enum\",\"type\":\"MeetingPlatform\"},{\"name\":\"calendarEventId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"RecordingStatus\"},{\"name\":\"recordingUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"transcript\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"summary\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"actionItems\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"participants\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"scheduledAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"endedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"duration\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"meeting_recording\"},\"AgentPhoneNumber\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentPhoneNumber\"},{\"name\":\"phoneNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"twilioSid\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"voiceEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"voiceGreeting\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"calls\",\"kind\":\"object\",\"type\":\"PhoneCall\",\"relationName\":\"AgentPhoneNumberToPhoneCall\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_phone_number\"},\"PhoneCall\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phoneNumberId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phoneNumber\",\"kind\":\"object\",\"type\":\"AgentPhoneNumber\",\"relationName\":\"AgentPhoneNumberToPhoneCall\"},{\"name\":\"direction\",\"kind\":\"enum\",\"type\":\"CallDirection\"},{\"name\":\"fromNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"CallStatus\"},{\"name\":\"twilioCallSid\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"recordingUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"transcript\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"duration\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"endedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"phone_call\"},\"AgentMetric\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentMetric\"},{\"name\":\"date\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"totalConversations\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalMessages\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"avgMessagesPerConvo\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"avgResponseTimeMs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalTokensUsed\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"toolCallsCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"toolSuccessRate\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"feedbackPositive\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"feedbackNegative\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_metric\"},\"ScanResult\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workspaceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"ScanCategory\"},{\"name\":\"signals\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"totalSignals\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"criticalCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"highCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"mediumCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lowCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"scannedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"scan_result\"},\"Signal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"scanResultId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"enum\",\"type\":\"ScanCategory\"},{\"name\":\"severity\",\"kind\":\"enum\",\"type\":\"SignalSeverity\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"suggestedTemplateId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"snoozedUntil\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"dismissedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"actedOnAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"detectedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"signal\"},\"AgentRun\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workspaceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"triggeredAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"triggeredBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataSources\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"outputType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"outputContent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"llmModel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"llmTokensUsed\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"llmCost\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"l1Assertions\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"l1Passed\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"l2Score\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"l2Breakdown\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"l3Triggered\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"l3Blocked\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"l3Reason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userAction\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"draftDiff\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"finalAction\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"finalAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"agent_run\"},\"AiEvent\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"traceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"trace\",\"kind\":\"object\",\"type\":\"AgentTrace\",\"relationName\":\"AgentTraceToAiEvent\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workspaceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"model\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tokensIn\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"tokensOut\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"cost\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"latencyMs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"stepNumber\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"action\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toolName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toolInput\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"toolOutput\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"stepsUsed\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"evalResult\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"ai_event\"},\"AgentTrace\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"workspaceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"TraceStatus\"},{\"name\":\"steps\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"totalSteps\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"maxSteps\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalTokensIn\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalTokensOut\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalCost\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"latencyMs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"toolCalls\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"toolSuccesses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"toolFailures\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"l1Passed\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"l1Failures\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"l2Score\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"l2Breakdown\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"l3Triggered\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"l3Blocked\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"feedbackScore\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"feedbackComment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userEdited\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"editDiff\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentTrace\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"AgentTraceToConversation\"},{\"name\":\"aiEvents\",\"kind\":\"object\",\"type\":\"AiEvent\",\"relationName\":\"AgentTraceToAiEvent\"},{\"name\":\"feedbacks\",\"kind\":\"object\",\"type\":\"AgentFeedback\",\"relationName\":\"AgentFeedbackToAgentTrace\"}],\"dbName\":\"agent_trace\"},\"ConversationEvaluation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"evaluatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"goalCompleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"goalCompletionConfidence\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"userSatisfactionScore\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"categories\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"failureModes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"improvementSuggestions\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToConversationEvaluation\"}],\"dbName\":\"conversation_evaluation\"},\"AgentInsight\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"generatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"timeframeStart\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"timeframeEnd\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"clusters\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"patterns\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"anomalies\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"opportunities\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentInsight\"}],\"dbName\":\"agent_insight\"},\"AgentFeedback\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"traceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"FeedbackType\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"originalOutput\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userEdit\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"correctionText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"stepNumber\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"trace\",\"kind\":\"object\",\"type\":\"AgentTrace\",\"relationName\":\"AgentFeedbackToAgentTrace\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"AgentFeedbackToConversation\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentFeedback\"}],\"dbName\":\"agent_feedback\"},\"AgentABTest\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"variantAPrompt\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"variantBPrompt\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"trafficSplit\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"ABTestStatus\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"endedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"variantATraces\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"variantBTraces\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"variantAScore\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"variantBScore\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"winningVariant\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToAgentABTest\"}],\"dbName\":\"agent_ab_test\"},\"OptimizationRun\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"triggeredAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"triggeredBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"editPatterns\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"promptVariations\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"testResults\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"recommendation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"abTestId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToOptimizationRun\"}],\"dbName\":\"optimization_run\"},\"ModificationProposal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"agentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"proposedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"ModificationType\"},{\"name\":\"current\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"proposed\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"rationale\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"impact\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"ProposalStatus\"},{\"name\":\"reviewedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"reviewedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"appliedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"agent\",\"kind\":\"object\",\"type\":\"Agent\",\"relationName\":\"AgentToModificationProposal\"}],\"dbName\":\"modification_proposal\"}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

